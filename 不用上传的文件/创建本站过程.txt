你现在已经成功安装了mongodb和express依赖，接下来想要一步步完成Node.js 后端连接 MongoDB+HTML 前端展示数据的完整流程，我会从编写后端代码开始，到前端页面开发、运行项目，每一步都详细说明，确保你能跟着操作成功。
前置准备回顾
你已经完成：
创建了mongo_web文件夹
在该文件夹下执行了npm init -y和npm install mongodb express
安装依赖成功（77 个包，0 漏洞）
接下来的步骤会基于这个基础展开。

步骤 1：编写 Node.js 后端代码（核心：连接 MongoDB + 提供数据接口）
1.1 新建server.js文件
在你的D:\mongo_web文件夹中，新建一个文本文档，将文件名改为server.js（注意：后缀名从.txt改为.js，如果看不到后缀名，需要在电脑的文件夹设置中开启 “显示文件扩展名”）。
1.2 写入后端代码（替换你的 MongoDB 连接信息）
打开server.js文件，复制粘贴以下代码，重点替换其中的 MongoDB 连接字符串（这是连接你的数据库的关键）：

// 1. 引入需要的依赖包
const express = require('express'); // 轻量级后端框架，用于创建服务器和接口
const { MongoClient } = require('mongodb'); // MongoDB的Node.js驱动，用于连接数据库
const app = express(); // 创建express应用实例
const port = 3000; // 服务器运行的端口号（本地访问用：localhost:3000）

// 2. 配置MongoDB连接信息（★★★替换成你自己的MongoDB连接信息★★★）
// 格式说明：mongodb+srv://<你的用户名>:<你的密码>@<你的集群地址>/<数据库名>?retryWrites=true&w=majority
// 示例（仅作参考，不要直接用）：mongodb+srv://myuser:mypassword@cluster0.abc123.mongodb.net/my_web_db?retryWrites=true&w=majority
const mongoUrl = "mongodb+srv://<你的用户名>:<你的密码>@<你的集群地址>/my_web_db?retryWrites=true&w=majority";

// 3. 创建MongoDB客户端实例
const client = new MongoClient(mongoUrl);

// 4. 定义异步函数：连接MongoDB并获取集合（数据表）
async function getCollection() {
    try {
        // 连接MongoDB服务器
        await client.connect();
        console.log("✅ 成功连接到MongoDB数据库！");
        
        // 选择数据库（如果不存在，插入数据时会自动创建）
        const db = client.db("my_web_db"); // 数据库名：my_web_db
        
        // 选择集合（数据表，这里叫user_info，对应关系库的用户表）
        const collection = db.collection("user_info");
        
        // 首次运行时，检查集合是否有数据，没有则插入测试数据（避免重复插入）
        const dataCount = await collection.countDocuments();
        if (dataCount === 0) {
            // 插入3条测试用户数据
            await collection.insertMany([
                { name: "张三", age: 25, gender: "男", email: "zhangsan@example.com", hobbies: ["篮球", "游戏"] },
                { name: "李四", age: 28, gender: "男", email: "lisi@example.com", hobbies: ["读书", "跑步"] },
                { name: "王五", age: 22, gender: "女", email: "wangwu@example.com", hobbies: ["画画", "瑜伽"] }
            ]);
            console.log("✅ 首次插入测试数据成功！");
        }
        
        return collection; // 返回集合对象，供后续查询使用
    } catch (error) {
        // 捕获连接或操作错误，打印信息
        console.error("❌ MongoDB连接/操作失败：", error);
        throw error; // 抛出错误，让后续接口处理
    }
}

// 5. 配置express：托管静态文件（让前端HTML文件能被访问）
// 意思是：将public文件夹作为静态资源目录，前端HTML文件放在这个文件夹里
app.use(express.static('public'));

// 6. 定义接口：获取所有用户数据（前端通过这个接口获取数据）
app.get('/api/users', async (req, res) => {
    try {
        // 获取MongoDB集合
        const collection = await getCollection();
        // 查询集合中的所有数据，转换为数组（find()返回游标，toArray()转为数组）
        const allUsers = await collection.find().toArray();
        // 向前端返回JSON格式的数据
        res.json(allUsers);
    } catch (error) {
        // 接口出错时，返回500错误和提示信息
        res.status(500).json({ message: "获取数据失败", error: error.message });
    }
});

// 7. 启动Node.js服务器，监听3000端口
app.listen(port, () => {
    console.log(`✅ 后端服务器已启动，访问地址：http://localhost:${port}`);
});

关键说明：
MongoDB 连接字符串替换：你需要把<你的用户名>、<你的密码>、<你的集群地址>替换成你申请 MongoDB 账号时的实际信息（云数据库如 MongoDB Atlas 的连接字符串可以在账号后台复制）。
getCollection函数：封装了连接数据库、选择集合、首次插入测试数据的逻辑，避免重复代码。
/api/users接口：前端通过这个 GET 请求接口，就能获取 MongoDB 中的用户数据。
静态文件托管：app.use(express.static('public'))表示前端的 HTML 文件要放在public文件夹中，才能被浏览器访问。

步骤 2：创建前端 HTML 页面（展示 MongoDB 数据）
2.1 新建public文件夹
在D:\mongo_web文件夹中，新建一个文件夹，命名为public（必须是这个名字，和后端代码中的静态文件托管配置对应）。
2.2 新建index.html文件
在public文件夹中，新建一个文本文档，将文件名改为index.html（后缀名改为.html）。
2.3 写入前端代码
打开index.html文件，复制粘贴以下代码：

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB数据展示页面</title>
    <!-- 简单的样式，让页面更美观 -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "微软雅黑", sans-serif;
        }
        body {
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        table {
            width: 90%;
            margin: 0 auto;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid #ddd;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .loading {
            text-align: center;
            font-size: 18px;
            color: #666;
            margin-top: 50px;
        }
        .error {
            text-align: center;
            font-size: 18px;
            color: #dc3545;
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <h1>用户信息表（数据来自MongoDB）</h1>
    
    <!-- 加载提示 -->
    <div class="loading" id="loading">正在从MongoDB加载数据...</div>
    <!-- 错误提示 -->
    <div class="error" id="error" style="display: none;"></div>
    <!-- 用户数据表格（初始隐藏） -->
    <table id="userTable" style="display: none;">
        <thead>
            <tr>
                <th>ID</th>
                <th>姓名</th>
                <th>年龄</th>
                <th>性别</th>
                <th>邮箱</th>
                <th>爱好</th>
            </tr>
        </thead>
        <tbody>
            <!-- 这里会通过JS动态加载数据 -->
        </tbody>
    </table>

    <script>
        // 前端JS逻辑：调用后端接口，获取数据并展示
        // 1. 获取页面元素
        const loading = document.getElementById('loading');
        const error = document.getElementById('error');
        const userTable = document.getElementById('userTable');
        const tableBody = userTable.querySelector('tbody');

        // 2. 发送请求到后端接口/api/users，获取数据
        fetch('/api/users')
            .then(response => {
                // 检查响应是否成功（状态码200-299）
                if (!response.ok) {
                    throw new Error(`请求失败，状态码：${response.status}`);
                }
                // 将响应转为JSON格式
                return response.json();
            })
            .then(users => {
                // 隐藏加载提示，显示表格
                loading.style.display = 'none';
                userTable.style.display = 'table';

                // 遍历用户数据，生成表格行
                users.forEach(user => {
                    const row = document.createElement('tr');
                    // 填充表格内容（_id是MongoDB自动生成的唯一ID，hobbies是数组，转为字符串）
                    row.innerHTML = `
                        <td>${user._id}</td>
                        <td>${user.name}</td>
                        <td>${user.age}</td>
                        <td>${user.gender}</td>
                        <td>${user.email}</td>
                        <td>${user.hobbies.join('、')}</td>
                    `;
                    tableBody.appendChild(row);
                });
            })
            .catch(err => {
                // 捕获错误，显示错误提示
                loading.style.display = 'none';
                error.style.display = 'block';
                error.textContent = `加载数据失败：${err.message}`;
                console.error("前端获取数据错误：", err);
            });
    </script>
</body>
</html>

关键说明：
页面结构：包含加载提示、错误提示、数据表格，初始时只显示加载提示。
fetch('/api/users')：前端通过这个 API 请求，从后端获取 MongoDB 中的用户数据。
数据渲染：将获取到的用户数据遍历，动态生成表格行，展示在页面上。
样式美化：添加了简单的 CSS 样式，让页面看起来更整洁（新手可以直接用，无需修改）。


步骤 3：运行项目并访问页面
3.1 打开终端 / 命令提示符
按下Win+R，输入cmd，打开命令提示符窗口。
3.2 进入项目文件夹
在命令提示符中输入以下命令，切换到你的mongo_web文件夹：

cd D:\mongo_web

（如果输入后提示 “系统找不到指定的路径”，检查文件夹路径是否正确，比如是否是D:\mongo_web，或者是否有拼写错误）
3.3 启动 Node.js 后端服务器
在命令提示符中输入以下命令，运行server.js文件：
node server.js
正常启动的提示（参考）：

✅ 后端服务器已启动，访问地址：http://localhost:3000
✅ 成功连接到MongoDB数据库！
✅ 首次插入测试数据成功！
如果出现这些提示，说明后端服务器启动成功，并且已经连接 MongoDB 并插入了测试数据。
3.4 访问前端页面
打开你的浏览器（比如 Chrome、Edge），在地址栏输入：

http://localhost:3000

按下回车，你会看到：
先显示 “正在从 MongoDB 加载数据...”
随后页面会显示用户信息表格，数据来自你的 MongoDB 数据库。
步骤 4：常见问题排查（如果遇到错误）
MongoDB 连接失败：
检查server.js中的mongoUrl是否正确（用户名、密码、集群地址是否有误）。
确认你的 MongoDB 账号是否允许远程连接（云数据库如 MongoDB Atlas 需要在后台设置 IP 白名单，允许所有 IP 访问，或者添加你的本地 IP）。
页面显示 “加载数据失败”：
检查后端服务器是否正常运行（命令提示符中是否有报错）。
检查浏览器的开发者工具（F12）→Network→/api/users，查看请求的状态码和错误信息。
端口被占用：
如果提示Error: listen EADDRINUSE: address already in use :::3000，说明 3000 端口被占用。
解决方案：修改server.js中的port为其他数字，比如3001，然后重启服务器，访问http://localhost:3001。
总结
后端核心步骤：编写server.js，替换 MongoDB 连接字符串，通过MongoClient连接数据库，提供/api/users接口返回数据，并用express托管静态文件。
前端核心步骤：在public文件夹中编写index.html，通过fetch调用后端接口，获取数据后动态渲染表格。
运行步骤：进入项目文件夹，执行node server.js启动后端，浏览器访问localhost:3000查看数据展示。
整个流程的关键是后端连接 MongoDB 并提供数据接口，前端调用接口展示数据，这是网页与 MongoDB 交互的基础模式。



